<html><head><title>WPF Pan, Zoom &amp; Rotate Control | David Elentok's Blog</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/><meta property="og:title" content="WPF Pan, Zoom &amp; Rotate Control"/><meta property="og:description"/><meta property="og:type" content="article"/><meta property="og:image" content="http://blog.elentok.com/avatar-og.png"/><meta property="og:url" content="http://blog.elentok.com/2011/03/wpf-pan-zoom-rotate-control.html"/><meta property="og:site_name" content="David Elentok's Blog"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@elentok"/><meta name="twitter:title" content="WPF Pan, Zoom &amp; Rotate Control"/><meta name="twitter:image" content="http://blog.elentok.com/avatar-og.png"/><meta name="twitter:description"/><style type="text/css">body {
  font-family: sans-serif;
  background: #242424;
  color: #e9e9e9;
  font-size: 18px;
  line-height: 1.5;
}

a, a:visited {
  color: #98adec;
}

.e-container {
  margin: auto;
  max-width: 700px;
  padding: 15px;
}</style></head><body><div class="e-container"><a class="e-header" href="/"><div class="e-header__avatar"><div class="e-avatar"></div></div><h2>Elentok's Blog</h2></a><div class="e-about-me"><a href="http://elentok.com">About me</a></div><div class="e-post e-post--full"><h1 class="e-post__title">WPF Pan, Zoom &amp; Rotate Control</h1><div class="e-post__date">March 31st, 2011</div><div class="e-post__tags"><a class="e-post-tag" href="/tags/programming.html">programming</a><a class="e-post-tag" href="/tags/software.html">software</a><a class="e-post-tag" href="/tags/tips.html">tips</a><a class="e-post-tag" href="/tags/wpf.html">wpf</a></div><div class="e-post__body"><center>
<a href="http://4.bp.blogspot.com/-d3CyDHTo3l8/TZS2JJIMAaI/AAAAAAAABJw/iPeLoWp9NPM/s1600/viewera.png"><img src="http://4.bp.blogspot.com/-d3CyDHTo3l8/TZS2JJIMAaI/AAAAAAAABJw/iPeLoWp9NPM/s1600/viewera.png" alt=""></a>
</center>

<p>In the past few days I have been working on an image viewer control that allows
the user to pan (via scrollbars and by dragging the mouse), zoom (by mouse wheel
and by buttons) and rotate (by dragging the mouse in &quot;rotate&quot; mode).</p>
<p>I must say this was the funnest of all of my WPF experiences, I really love the
elegance of WPF. The implementation ended up being a completely generic viewer
that can contain whatever you want (not just images).</p>
<p>The viewer is actually two controls: ViewerControl and FullViewerControl.</p>
<!--more-->
<p>The ViewerControl is the inner part (without the toolbar and statusbar), its
behavior is completely customizable by setting the MouseClickHandler,
MouseDragHandler and MouseWheelHandler dependency properties (these are not
events, but three different interfaces that contain a method that handles the
action; this way they even be modified in XAML).</p>
<p>The FullViewerControl wraps around the ViewerControl, sets the default behavior
(mouse wheel zooms, ...) and adds a toolbar (to allow changing
drag/pan/zoom-in/zoom-out modes and auto-fitting the contents) and a status bar
that displays the current zoom level and rotation angle.</p>
<p>To use the FullViewerControl in your code, just add the following:</p>
<pre><code><span class="hljs-section">&lt;v:FullViewerControl&gt;</span>
  <span class="hljs-section">&lt;v:FullViewerControl.ExtraToolbarItems&gt;</span>

  <span class="hljs-section">&lt;-- insert buttons here --&gt;</span>

  <span class="hljs-section">&lt;/v:FullViewerControl.ExtraToolbarItems&gt;</span>

  <span class="hljs-section">&lt;-- insert viewer contents here --&gt;</span>

<span class="hljs-section">&lt;/v:FullViewerControl&gt;</span>
</code></pre><p>The source code for the viewer is freely available as a part of my
Elentok.Framework project (LGPL license) <a href="https://bitbucket.org/3david/elentok.framework">here</a>, in the
&quot;Elentok.Framework.Wpf&quot; project, under &quot;Controls/Viewer&quot;.</p>
<p>To build the framework project and test out the viewer, run the
<code>Scripts\Build-Debug.bat</code> script and then run
<code>Build\Elentok.Framework.Wpf.Demos.exe</code>.</p>
</div><div class="e-post__next"><span>Next:</span><a href="/2011/07/sharpdevelop-dark-color-scheme.html">SharpDevelop dark color scheme</a></div></div></div><style type="text/css">@import "/style.css";
@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro');</style></body></html>