<html><head><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/><title>Automated Build &amp; Package System | David Elentok&#x27;s Blog</title><meta property="og:title" content="Automated Build &amp; Package System"/><meta property="og:description"/><meta property="og:type" content="article"/><meta property="og:image"/><meta property="og:url" content="https://blog.elentok.com/2008/12/automated-build-package-system.html"/><meta property="og:site_name" content="David Elentok&#x27;s Blog"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@elentok"/><meta name="twitter:title" content="Automated Build &amp; Package System"/><meta name="twitter:image" content="https://blog.elentok.com/avatar-og.png"/><meta name="twitter:description"/><style type="text/css">
      body {
        font-family: sans-serif;
        background: #242424;
        color: #e9e9e9;
        font-size: 18px;
        line-height: 1.5;
      }

      a, a:visited {
        color: #98adec;
      }

      a:hover {
        color: #c5d2f9;
      }

      .e-container {
        margin: auto;
        max-width: 700px;
        padding: 15px;
      }
      </style><style type="text/css">
          @import "/style.css";
          @import url('https://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro');
          </style></head><body><div class="e-container"><a class="e-header" href="/"><div class="e-header__avatar"><div class="e-avatar"></div></div><h2>Elentok&#x27;s Blog</h2></a><div class="e-about-me"><a href="http://elentok.com">About me</a></div><div class="e-post e-post--full"><h1 class="e-post__title">Automated Build &amp; Package System</h1><div class="e-post__date">December 18, 2008</div><div class="e-post__tags"><a class="e-post-tag" href="/tags/programming.html">programming</a><a class="e-post-tag" href="/tags/software.html">software</a><a class="e-post-tag" href="/tags/builder.html">builder</a></div><div class="e-post__body"><p>The purpose of Builder is to automate the following process of building and
packaging software packages (at the moment only for C# and Python projects)</p>
<ol>
<li>Get a specific version of the software from a source control repository.</li>
<li>Update the version in the source files:</li>
</ol>
<ul>
<li>In C# solutions it updates the AssemblyInfo.cs file</li>
<li>In Python projects it adds the version to the top of each file (after the
<a href="http://en.wikipedia.org/wiki/Shebang_%28Unix%29">shebang line</a> and updates the <code>__version__</code> variable in each file.</li>
</ul>
<ol start="3">
<li>Create a source package (zip file with only the source files)</li>
<li>Build the product (for C# solutions uses the msbuild.exe).</li>
<li>Create a binary package (zip file with only the files required to run the
application).</li>
</ol>
<p>Builder is written in Python, to use it you must first create a settings file (a
&quot;.builder&quot; file which is basically an <a href="http://en.wikipedia.org/wiki/INI_file">INI file</a>).</p>
<p>This is the &quot;.builder&quot; file format for C# projects:</p>
<pre><div style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-ini" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token section" style="color:hsl(220, 14%, 71%)">[</span><span class="token section section-name" style="color:hsl(95, 38%, 62%)">Builder</span><span class="token section" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">Name</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">name-of-the-project (this will also be the name of the archive)</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">Type</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">Cs</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">OutputDirectory</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">D:\Releases\MyProject</span><span>
</span>
<span></span><span class="token section" style="color:hsl(220, 14%, 71%)">[</span><span class="token section section-name" style="color:hsl(95, 38%, 62%)">CsBuilder</span><span class="token section" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">; (the files from {StartupProject}/bin/Release will be copied to the </span><span>
</span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">; binary package)</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">StartupProject</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">name-of-startup-project</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">Solution</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">solution-file.sln</span><span>
</span>
<span></span><span class="token section" style="color:hsl(220, 14%, 71%)">[</span><span class="token section section-name" style="color:hsl(95, 38%, 62%)">SVN</span><span class="token section" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">; (the path to the project in the repository)</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">SvnRoot</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">file:///S:/Subversion/MyProject</span></code></div></pre>
<p>And this is the &quot;.builder&quot; file format for Python projects:</p>
<pre><div style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-ini" style="white-space:pre;background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token section" style="color:hsl(220, 14%, 71%)">[</span><span class="token section section-name" style="color:hsl(95, 38%, 62%)">Builder</span><span class="token section" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">Name</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">Builder</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">Type</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">Python</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">OutputDirectory</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">D:\Releases\Builder</span><span>
</span>
<span></span><span class="token section" style="color:hsl(220, 14%, 71%)">[</span><span class="token section section-name" style="color:hsl(95, 38%, 62%)">PyBuilder</span><span class="token section" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">Message</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">This message will be added to all .py files.</span><span>
</span>
<span></span><span class="token section" style="color:hsl(220, 14%, 71%)">[</span><span class="token section section-name" style="color:hsl(95, 38%, 62%)">SVN</span><span class="token section" style="color:hsl(220, 14%, 71%)">]</span><span>
</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">SvnRoot</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">file:///S:/Subversion/Builder</span></code></div></pre>
<p>To associate the <code>.builder</code> extension with builder you can use the
<code>RegisterBuilderFiles.reg</code> file in the source archive (just change the path to
where you put Builder).</p>
<p><del><a href="http://www.ee.bgu.ac.il/%7Eelentok/pub/Builder/Builder-1.0.4.616.zip">Download version 1.0.4 here</a></del></p></div></div><div class="e-post__next"><span>Next:</span><a class="e-post__next" href="/2008/12/subversion-allow-changing-log-messages.html">Subversion: Allow changing log messages</a></div></div></body></html>